<!DOCTYPE html><html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Red Lock - Frikik Oyunu</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #000; color: white; font-family: Arial, sans-serif; overflow: hidden; text-align: center; }
    canvas { background: url('assets/goal.png') no-repeat center center; background-size: cover; display: block; margin: 1rem auto; border: 2px solid crimson; }
    #ui { margin-top: 1rem; }
    select, button {
      padding: 0.5rem 1rem;
      margin: 0.5rem;
      font-size: 1rem;
    }
    #score, #timer { font-size: 1.2rem; margin: 0.5rem; color: crimson; }
  </style>
</head>
<body>
  <h1>Red Lock Frikik Oyunu</h1>
  <div id="ui">
    <select id="player">
      <option value="isagi">Isagi</option>
      <option value="rin">Rin</option>
      <option value="nagi">Nagi</option>
    </select>
    <button onclick="startGame()">Oyuna Başla</button>
    <div id="score">Skor: 0</div>
    <div id="timer">Zaman: 30</div>
  </div>
  <canvas id="gameCanvas" width="360" height="500"></canvas>  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");
    let ball = { x: 180, y: 460, radius: 10, dx: 0, dy: 0, moving: false };
    let score = 0;
    let time = 30;
    let gameInterval, timerInterval;
    const targetZones = [
      { x: 60, y: 50, r: 20 },
      { x: 180, y: 30, r: 20 },
      { x: 300, y: 50, r: 20 }
    ];
    let selectedPlayer = "isagi";

    function drawBall() {
      ctx.beginPath();
      ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
      ctx.fillStyle = "white";
      ctx.fill();
      ctx.closePath();
    }

    function drawTargets() {
      for (let target of targetZones) {
        ctx.beginPath();
        ctx.arc(target.x, target.y, target.r, 0, Math.PI * 2);
        ctx.strokeStyle = "crimson";
        ctx.lineWidth = 3;
        ctx.stroke();
        ctx.closePath();
      }
    }

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      drawBall();
      drawTargets();
    }

    function update() {
      if (ball.moving) {
        ball.x += ball.dx;
        ball.y += ball.dy;
        // Check for goal
        for (let target of targetZones) {
          const dist = Math.hypot(ball.x - target.x, ball.y - target.y);
          if (dist < ball.radius + target.r) {
            score++;
            document.getElementById("score").innerText = `Skor: ${score}`;
            resetBall();
            return;
          }
        }
        if (ball.y < 0 || ball.x < 0 || ball.x > canvas.width) {
          resetBall();
        }
      }
      draw();
    }

    function resetBall() {
      ball = { x: 180, y: 460, radius: 10, dx: 0, dy: 0, moving: false };
    }

    function shootBall() {
      if (ball.moving) return;
      let power = selectedPlayer === "rin" ? -10 : selectedPlayer === "nagi" ? -8 : -9;
      let curve = selectedPlayer === "isagi" ? 0 : selectedPlayer === "rin" ? (Math.random() * 4 - 2) : (Math.random() * 6 - 3);
      ball.dy = power;
      ball.dx = curve;
      ball.moving = true;
    }

    function startGame() {
      selectedPlayer = document.getElementById("player").value;
      score = 0;
      time = 30;
      document.getElementById("score").innerText = `Skor: ${score}`;
      document.getElementById("timer").innerText = `Zaman: ${time}`;
      resetBall();
      clearInterval(gameInterval);
      clearInterval(timerInterval);
      gameInterval = setInterval(update, 30);
      timerInterval = setInterval(() => {
        time--;
        document.getElementById("timer").innerText = `Zaman: ${time}`;
        if (time <= 0) {
          clearInterval(gameInterval);
          clearInterval(timerInterval);
          alert("Süre doldu! Skorunuz: " + score);
        }
      }, 1000);
    }

    canvas.addEventListener("click", shootBall);
    draw();
  </script></body>
</html>
