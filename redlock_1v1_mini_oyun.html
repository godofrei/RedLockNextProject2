<!DOCTYPE html><html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Red Lock 1v1 Maç</title>
  <style>
    body {
      margin: 0;
      background: #111;
      color: white;
      font-family: Arial, sans-serif;
      overflow: hidden;
    }
    canvas {
      display: block;
      margin: 0 auto;
      background: #333;
      border: 4px solid crimson;
    }
    #ui {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      z-index: 10;
    }
    button {
      padding: 10px 20px;
      margin: 5px;
      background-color: crimson;
      color: white;
      border: none;
      font-weight: bold;
      cursor: pointer;
    }
    #scoreboard {
      font-size: 18px;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div id="ui">
    <div id="characterSelect">
      <h2>Karakter Seç</h2>
      <button onclick="startGame('Rei')">Rei</button>
      <button onclick="startGame('Nagi')">Nagi</button>
      <button onclick="startGame('Bachira')">Bachira</button>
      <button onclick="startGame('Rin')">Rin</button>
    </div>
    <div id="scoreboard" style="display:none;">
      <span id="timer">01:30</span> | Goller: <span id="goals">0</span>/10
    </div>
    <div id="gameResult" style="display:none; font-size: 24px; margin-top: 10px;"></div>
  </div>
  <canvas id="gameCanvas" width="800" height="500"></canvas>  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    let player = { x: 100, y: 200, w: 40, h: 40, color: 'cyan' };
    let opponent = { x: 650, y: 200, w: 40, h: 40, color: 'red' };
    let ball = { x: 120, y: 220, r: 10, dx: 0, dy: 0 };
    let goals = 0;
    let gameStarted = false;
    let timer = 90;
    let interval;

    function startGame(character) {
      document.getElementById('characterSelect').style.display = 'none';
      document.getElementById('scoreboard').style.display = 'block';
      player.color = character === 'Rei' ? 'blue' : character === 'Nagi' ? 'white' : character === 'Bachira' ? 'yellow' : 'purple';
      gameStarted = true;
      interval = setInterval(updateTimer, 1000);
      draw();
    }

    function updateTimer() {
      timer--;
      const min = Math.floor(timer / 60);
      const sec = timer % 60;
      document.getElementById('timer').textContent = `${min < 10 ? '0'+min : min}:${sec < 10 ? '0'+sec : sec}`;
      if (timer <= 0) endGame();
    }

    function endGame() {
      clearInterval(interval);
      gameStarted = false;
      const result = goals >= 10 ? "Kazandın!" : "Kaybettin.";
      document.getElementById('gameResult').textContent = result;
      document.getElementById('gameResult').style.display = 'block';
    }

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // kale
      ctx.fillStyle = 'green';
      ctx.fillRect(canvas.width - 30, canvas.height / 2 - 50, 20, 100);

      // oyuncular
      ctx.fillStyle = player.color;
      ctx.fillRect(player.x, player.y, player.w, player.h);
      ctx.fillStyle = opponent.color;
      ctx.fillRect(opponent.x, opponent.y, opponent.w, opponent.h);

      // top
      ctx.beginPath();
      ctx.arc(ball.x, ball.y, ball.r, 0, Math.PI * 2);
      ctx.fillStyle = 'white';
      ctx.fill();
      ctx.closePath();

      // top hareketi
      ball.x += ball.dx;
      ball.y += ball.dy;

      // top saha disina cikarsa durdur
      if (ball.x > canvas.width || ball.y < 0 || ball.y > canvas.height) {
        resetBall();
      }

      // gol kontrolu
      if (ball.x + ball.r >= canvas.width - 30 && ball.y > canvas.height / 2 - 50 && ball.y < canvas.height / 2 + 50) {
        goals++;
        document.getElementById('goals').textContent = goals;
        resetBall();
        if (goals >= 10) endGame();
      }

      if (gameStarted) requestAnimationFrame(draw);
    }

    function resetBall() {
      ball.x = player.x + 20;
      ball.y = player.y + 20;
      ball.dx = 0;
      ball.dy = 0;
    }

    window.addEventListener('keydown', (e) => {
      if (!gameStarted) return;
      if (e.key === 'ArrowUp') player.y -= 10;
      if (e.key === 'ArrowDown') player.y += 10;
      if (e.key === ' ') {
        // şut at
        ball.dx = 5;
        ball.dy = (Math.random() - 0.5) * 2;
      }
    });
  </script></body>
</html>
